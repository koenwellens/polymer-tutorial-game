<link rel="import" href="../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../tutorial-level.html">

<dom-module id="level-two-axe-handle-rock">
    <template>
        <tutorial-level level-title="[[_levelTitle]]"
                        level="[[_level]]"
                        progress="[[_progress]]"
                        level-description="[[_levelDescription]]"
                        follow-up-message="[[_followUpMessage]]"
                        code-exercises="[[_codeExercises]]"
                        image="[[_image]]">
        </tutorial-level>
    </template>

    <script>
        class LevelTwoAxeHandleRock extends Polymer.Element {
            static get is() {
                return 'level-two-axe-handle-rock';
            }

            static get properties() {
                return {
                    _level: {
                        type: Number,
                        value: 2,
                    },
                    _levelTitle: {
                        type: String,
                        value: 'Rock, Paper... Axes'
                    },
                    _levelDescription: {
                        type: Array,
                        value: ['To wield an axe, it needs a handle and a rock craftily put together. In Polymer, we do this by adding the web components in our HTML.',
                        'You can use a web component by using their identification string (is) as an HTML tag.',
                        'Inside the template, you need at least one parent element. Since we\'ll be adding two web components, it\'s wise to add a div around them.',
                        'So add a div containing your rock and your handle in that order. You want the rock on top of the handle, right?! Don\'t forget your HTML imports.'],
                    },
                    _progress: {
                        type: Object,
                        value: {part: 6, total: 8}
                    },
                    _codeExercises: {
                        type: Array,
                        value: [],
                    },
                    _followUpMessage: {
                        type: String,
                        value: 'Well, doesn\'t that axe look quite stumpy... Hey it actually looks like a hammer! Great! But we wanted an axe... Let\'s use properties to get there!',
                    },
                    _image: {
                        type: String,
                        value: '../../static/images/hammer.png',
                    },
                };
            }

            ready() {
                super.ready();
                this._initializeCodeExercises();
            }

            _initializeCodeExercises() {
                this._codeExercises = [
                    {
                        fileName: 'axe.html',
                        solutionRegExp: `(<link rel="import" href="lib/polymer/polymer-element\\.html">)(\\s)+` +
                        `((<link rel="import" href="handle\\.html">)(\\s)+(<link rel="import" href="rock\\.html">)|` +
                        `(<link rel="import" href="rock\\.html">)(\\s)+(<link rel="import" href="handle\\.html">))(\\s)+` +
                        `(<dom-module)(\\s)(id="axe">)(\\s)+(<template>)(\\s)+(<div>)(\\s)+(<rock>)(\\s)*(</rock>)(\\s)+(<handle>)(\\s)*(</handle>)(\\s)+(</div>)(\\s)+(</template>)(\\s)+(</dom-module>)` +
                        `(\\s)+(<script>)(\\s)+(class)(\\s)(Axe)(\\s)(extends)(\\s)(Polymer\\.Element)(\\s)+{(\\s)+(static get is\\(\\))(\\s)+{(\\s)+` +
                        `(return 'axe';)(\\s)+}(\\s)+}(\\s)+(window\\.customElements\\.define\\(Axe\\.is,)(\\s)(Axe\\);)(\\s)+(<\/script>)`,
                        template: `<link rel="import" href="lib/polymer/polymer-element.html">

<dom-module id="axe">
    <template>

     </template>
</dom-module>

<script>
    class Axe extends Polymer.Element {

        static get is() {
            return 'axe';
        }
    }

    window.customElements.define(Axe.is, Axe);
<\/script>`,
                        hint: `<link rel="import" href="lib/polymer/polymer-element.html">
<link rel="import" href="handle.html">
<link rel="import" href="rock.html">

<dom-module id="axe">
    <template>
        <div>
            <rock></rock>
            <handle></handle>
        </div>
     </template>
</dom-module>

<script>
    class Axe extends Polymer.Element {

        static get is() {
            return 'axe';
        }
    }

    window.customElements.define(Axe.is, Axe);
<\/script>`
                    },
                    {
                        fileName: 'handle.html',
                        solutionRegExp: `(<link)(\\s)(rel="import")(\\s)(href="lib/polymer/polymer-element.html">)(\\s)+(<dom-module)(\\s)` +
                        `(id="handle">)(\\s)+(<template>)(\\s)+(<img)(\\s)(src="assets/images/handle\\[\\[size\\]\\].png"/>)(\\s)+(</template>)(\\s)+(</dom-module>)` +
                        `(\\s)+(<script>)(\\s)+(class)(\\s)(Handle)(\\s)(extends)(\\s)(Polymer\\.Element)(\\s)+{(\\s)+(static get is\\(\\))(\\s)+{(\\s)+` +
                        `(return 'handle';)(\\s)+}(\\s)+(static get properties\\(\\))(\\s)+{(\\s)+(return)(\\s)+{(\\s)+(size:)(\\s)+{(\\s)+(type: String,)(\\s)+(value: ''),?(\\s)+},?(\\s)+};?(\\s)+}(\\s)+` +
                        `}(\\s)+(window\\.customElements\\.define\\(Handle\\.is,)(\\s)(Handle\\);)(\\s)+(<\/script>)`,
                        template: `<link rel="import" href="lib/polymer/polymer-element.html">

<dom-module id="handle">
    <template>
         <img src="assets/images/handle[[size]].png"/>
     </template>
</dom-module>

<script>
    class Handle extends Polymer.Element {

        static get is() {
            return 'handle';
        }

        static get properties() {
            return {
                size: {
                    type: String,
                    value: '',
                }
            };
        }
    }

    window.customElements.define(Handle.is, Handle);
<\/script>`,
                        hint: 'Oops, you didn\'t have to change anything to this file! Undo your change!'
                    }, {
                        fileName: 'rock.html',
                        solutionRegExp: `(<link)(\\s)(rel="import")(\\s)(href="lib/polymer/polymer-element.html">)(\\s)+(<dom-module)(\\s)` +
                        `(id="rock">)(\\s)+(<template>)(\\s)+(<img)(\\s)(src="assets/images/rock\\[\\[sharpness\\]\\].png"/>)(\\s)+(</template>)(\\s)+(</dom-module>)` +
                        `(\\s)+(<script>)(\\s)+(class)(\\s)(Rock)(\\s)(extends)(\\s)(Polymer\\.Element)(\\s)+{(\\s)+(static get is\\(\\))(\\s)+{(\\s)+` +
                        `(return 'rock';)(\\s)+}(\\s)+(static get properties\\(\\))(\\s)+{(\\s)+(return)(\\s)+{(\\s)+(sharpness:)(\\s)+{(\\s)+(type: String,)(\\s)+(value: ''),?(\\s)+},?(\\s)+};?(\\s)+}(\\s)+` +
                        `}(\\s)+(window\\.customElements\\.define\\(Rock\\.is,)(\\s)(Rock\\);)(\\s)+(<\/script>)`,
                        template: `<link rel="import" href="lib/polymer/polymer-element.html">

<dom-module id="rock">
    <template>
         <img src="assets/images/rock[[sharpness]].png"/>
     </template>
</dom-module>

<script>
    class Rock extends Polymer.Element {

        static get is() {
            return 'rock';
        }

        static get properties() {
            return {
                sharpness: {
                    type: String,
                    value: '',
                }
            };
        }
    }

    window.customElements.define(Rock.is, Rock);
<\/script>`,
                        hint: 'Oops, you didn\'t have to change anything to this file! Undo your change'
                    }
                ];
            }
        }

        window.customElements.define(LevelTwoAxeHandleRock.is, LevelTwoAxeHandleRock);
    </script>
</dom-module>
