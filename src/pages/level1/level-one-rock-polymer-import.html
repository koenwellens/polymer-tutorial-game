<link rel="import" href="../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../tutorial-level.html">

<dom-module id="level-one-rock-polymer-import">
    <template>
        <tutorial-level level-title="[[_levelTitle]]"
                        level="[[_level]]"
                        progress="[[_progress]]"
                        level-description="[[_levelDescription]]"
                        follow-up-message="[[_followUpMessage]]"
                        code-exercises="[[_codeExercises]]">
        </tutorial-level>
    </template>

    <script>
        class LevelOneRockPolymerImport extends Polymer.Element {
            static get is() {
                return 'level-one-rock-polymer-import';
            }

            static get properties() {
                return {
                    _level: {
                        type: Number,
                        value: 1,
                    },
                    _levelTitle: {
                        type: String,
                        value: 'Polymer Rocks'
                    },
                    _levelDescription: {
                        type: Array,
                        value: ['Almost there... This won\'t work as your browser doesn\'t know Polymer.Element.',
                        'You need to tell your browser where to find it. To do this, we\'ll use html imports.',
                        'A html import can be done as follows: <link rel="import" href="location">, where location is the location of the polymer-element.html file.',
                        'Add <link rel="import" href="location"> above your script tag. The location of polymer is "lib/polymer/polymer-element.html".'],
                    },
                    _progress: {
                        type: Object,
                        value: {current: 4, total: 7}
                    },
                    _codeExercises: {
                        type: Array,
                        value: [],
                    },
                    _followUpMessage: {
                        type: String,
                        value: 'Wow! You created your first Polymer element. Let\'s make it look a bit nicer now and add content!',
                    },
                };
            }

            ready() {
                super.ready();

                this._initializeCodeExercises();
            }

            _initializeCodeExercises() {
                this._codeExercises = [
                    {
                        fileName: 'rock.html',
                        solutionRegExp: `(<link)(\\s)(rel="import")(\\s)(href="lib\/polymer\/polymer-element.html">)(\\s)+(<script>)(\\s)+(class)(\\s)(Rock)(\\s)(extends)(\\s)(Polymer\\.Element)(\\s)+{(\\s)+(static get is\\(\\))(\\s)+{(\\s)+(return)(\\s)('rock'|"rock");(\\s)+}(\\s)+}(\\s)+(<\/script>)`,
                        template: `<script>
    class Rock extends Polymer.Element {

        static get is() {
            return 'rock';
        }
    }
<\/script>`,
                        hint: `<!-- <link rel="import" href="lib/polymer/polymer-element.html"> -->

<script>
    class Rock extends Polymer.Element {

        static get is() {
            return 'rock';
        }
    }
<\/script>`
                    }
                ];
            }
        }

        window.customElements.define(LevelOneRockPolymerImport.is, LevelOneRockPolymerImport);
    </script>
</dom-module>
